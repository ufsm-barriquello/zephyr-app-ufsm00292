# Projeto de Integra√ß√£o: SAMD21 + Zephyr RTOS + BLE

Este reposit√≥rio documenta a trajet√≥ria de desenvolvimento de um sistema embarcado utilizando o microcontrolador **ATSAMD21**, migrando de uma abordagem *bare-metal* para o uso de um Sistema Operacional de Tempo Real moderno (**Zephyr RTOS**), com o objetivo final de integrar comunica√ß√£o **Bluetooth Low Energy (BLE)** via m√≥dulo **BTLC1000**.

## üéØ Contexto e Motiva√ß√£o

O objetivo principal deste projeto foi ir al√©m dos exemplos triviais (como o "Blink LED") e simular um ambiente de desenvolvimento mais pr√≥ximo da realidade industrial.

* **Plataforma Principal:** Placa SAMD21 Xplained Pro.
* **Tecnologia de Software:** Explora√ß√£o do ecossistema Zephyr RTOS.
* **Conectividade:** Tentativa de integra√ß√£o do m√≥dulo BLE (BTLC1000).
* **Metodologia:** Versionamento de c√≥digo, organiza√ß√£o em fases e documenta√ß√£o t√©cnica.

---

## üõ†Ô∏è Hardware e Ferramentas Utilizadas

A complexidade do projeto reside na combina√ß√£o de hardware espec√≠fico com uma stack de software robusta.

### Hardware
* **MCU:** Microchip ATSAMD21J18A (ARM Cortex-M0+, 32 bits).
* **Board:** SAMD21 Xplained Pro.
* **M√≥dulo de R√°dio:** Placa de extens√£o BTLC1000 Xplained (Bluetooth Low Energy).

### Software & Toolchain
* **Sistema Operacional:** Zephyr RTOS.
* **Gerenciador de Build:** Ferramenta `west`.
* **Compila√ß√£o:** Toolchain ARM, CMake e Ninja.
* **Ambiente de Desenvolvimento:** Windows (via PowerShell).

---

## üìÖ Linha do Tempo da Trajet√≥ria

O desenvolvimento foi dividido em tr√™s fases estrat√©gicas para garantir o entendimento progressivo da tecnologia.

### Fase 1: Primeiros Passos com SAMD21 (Bare-Metal)
Nesta etapa inicial, o foco foi entender o hardware "cru".
* Estudo da pinagem e dos componentes on-board.
* Realiza√ß√£o de testes de Blink, temporiza√ß√£o e I/O digital simples.
* **Aprendizado:** Compreens√£o clara de como o hardware responde sem um sistema operacional (loop infinito, polling) e revis√£o pr√°tica de registradores e GPIOs.

### Fase 2: Introdu√ß√£o ao Zephyr RTOS
Transi√ß√£o para o uso do sistema operacional.
* Configura√ß√£o do ambiente: instala√ß√£o do Python, `west`, e clonagem do reposit√≥rio oficial do Zephyr.
* Execu√ß√£o dos primeiros comandos: `west init`, `west update`.
* **Sucesso:** Build e Flash bem-sucedidos do exemplo "Blinky" rodando sobre o kernel do Zephyr.
* **Aprendizado:** Entendimento da estrutura de diret√≥rios (`boards/`, `samples/`, `drivers/`) e a disciplina necess√°ria para trabalhar com camadas de abstra√ß√£o de um RTOS.

### Fase 3: Desafio do Bluetooth Low Energy (BLE)
A etapa mais complexa, visando integrar o r√°dio externo.
* Tentativa de rodar samples oficiais como `peripheral_hr` (Heart Rate) e `peripheral_uart` (NUS).
* Estudo da organiza√ß√£o da stack Bluetooth dentro do Zephyr.
* An√°lise da rela√ß√£o entre drivers, overlays (.dts) e a aplica√ß√£o.

---

## ‚ö†Ô∏è Desafios e Resultados

A integra√ß√£o do BLE apresentou desafios t√©cnicos significativos, que serviram como fonte de aprendizado sobre a complexidade de sistemas embarcados modernos.

### Principais Dificuldades
1.  **Erros de Build:** Mensagens de erro extensas e espec√≠ficas do `west build` relacionadas √† configura√ß√£o do Bluetooth.
2.  **Integra√ß√£o de Hardware:** Ajustes finos necess√°rios nos arquivos de *Device Tree Overlay* para fazer a SAMD21 conversar corretamente com o BTLC1000.
3.  **Configura√ß√£o da Stack:** Entendimento de que o BLE no Zephyr n√£o √© apenas "ligar um m√≥dulo", mas depende de configura√ß√µes precisas de Kconfig e drivers.

### Conclus√£o
Mesmo com as dificuldades t√©cnicas encontradas na fase de Bluetooth, o projeto proporcionou uma **vis√£o completa do fluxo de desenvolvimento**. A experi√™ncia consolidou o conhecimento sobre a diferen√ßa entre programar diretamente no hardware versus utilizar um RTOS escal√°vel, preparando o terreno para projetos futuros mais complexos.

---

## üöÄ Como reproduzir o Build B√°sico

Para compilar o exemplo b√°sico testado na Fase 2:

```powershell
# 1. Inicializar o ambiente (dentro da pasta do projeto)
west init
west update

# 2. Compilar o exemplo blinky para a placa SAMD21
west build -b samd21_xpro samples/basic/blinky

# 3. Gravar na placa (Flash)
west flash
